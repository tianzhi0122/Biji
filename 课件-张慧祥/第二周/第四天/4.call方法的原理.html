<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>201803JS</title>
</head>
<body>

</body>
</html>
<script>
    /*
    * 重写call方法 ,考虑的几点
    * 1.首先必须考虑在函数原型上面的扩展方法
    * 2.传参,是否要给这个方法传参
    * 3.实现什么功能
    * 4.是否有返回值,返回值是什么
    * */
    Function.prototype.mycall=function (obj,...arg){
        //1.改变this
        //2.让该方法执行
        //3.第二个及第二个以后的参数依次传入this中
        // this=>fn;
        // fn();
        if (obj == null) {
            this()
        }
    };
    function fn() {
        console.log(this);//window
    }
    fn.mycall(null,1,3,5,5)

    /*
    * new Function 会new出一个函数的实例
    * new Function中的函数[除最后一项的参数],都是该函数的形参
    * 实参就是我们要传入的函数fn,_this就是该函数fn
    * 函数体执行,字符串转js代码过程中,会自动将数组toString()变成'_this(1,2,3,4)'
    * 我们让形参_this执行,就是让fn执行
    * */
</script>